<section class="contact-section">
    <div class="floating-element"></div>
    <div class="floating-element"></div>
    <div class="floating-element"></div>

    <div class="container">
        <div class="text-center mb-5">
            <h2 class="main-title">Get In Touch</h2>
            <p class="main-subtitle">Ready to discuss your testing needs? Let's connect and build quality
                together.</p>
        </div>

        <div class="row g-4">
            <!-- Contact Info Card -->
            <div class="col-lg-6">
                <div class="contact-card">
                    <div class="availability-badge mb-4">
                        <i class="fas fa-circle me-2" style="color: #43e97b; font-size: 0.8rem;"></i>
                        Available for New Opportunities
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Email</h5>
                            <a href="#" class="text-decoration-none">omkargharat578@gmail.com</a>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Phone</h5>
                            <a href="tel:+1234567890" class="text-decoration-none">+91 8850 969 887</a>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Location</h5>
                            <p>Mumbai, India</p>
                        </div>
                    </div>

                    <div class="social-links">
                        <a href="#" class="social-link" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://github.com/OmkarGharat" class="social-link" title="GitHub"><i
                                class="fab fa-github"></i></a>
                        <a href="#" class="social-link" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link" title="Stack Overflow"><i class="fab fa-stack-overflow"></i></a>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="col-lg-6">
                <div class="contact-form form-actions">
                    <form id="contactForm" method="post" action="mailto:omkarugharat99@gmail.com" enctype="text/plain">
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <input type="text" name="firstName" class="form-control" id="firstName"
                                    placeholder="First Name *" autocomplete="off" required>
                                <div class="invalid-feedback">Please provide your first name.</div>
                            </div>
                            <div class="col-md-6">
                                <input type="text" name="lastName" class="form-control" id="lastName"
                                    placeholder="Last Name *" autocomplete="off" required>
                                <div class="invalid-feedback">Please provide your last name.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <input type="email" name="email" class="form-control" id="email"
                                placeholder="Email Address *" autocomplete="off" required>
                            <div class="invalid-feedback">Please provide a valid email address.</div>
                        </div>

                        <div class="mb-3">
                            <input type="text" name="company" class="form-control" placeholder="Company (Optional)"
                                autocomplete="off">
                        </div>

                        <!-- <div class="mb-3">
                                <select class="form-select" required>
                                    <option value="" disabled selected>Inquiry Type</option>
                                    <option value="full-time">Full-time Position</option>
                                    <option value="contract">Contract Work</option>
                                    <option value="consultation">Testing Consultation</option>
                                    <option value="collaboration">Partnership/Collaboration</option>
                                    <option value="other">Other</option>
                                </select>
                            </div> -->

                        <!-- <div class="d-flex h-100"> -->
                        <div class="mb-4 position-relative">
                            <div class="custom-select">
                                <select class="form-select" id="dropdown" required>
                                    <option class="is-invalid d-none" value="" disabled selected>Select Inquiry Type
                                        *
                                    </option>
                                    <option value="full-time">Full-time Position</option>
                                    <option value="contract">Contract Work</option>
                                    <option value="consultation">Testing Consultation</option>
                                    <option value="collaboration">Partnership/Collaboration</option>
                                    <option value="other">Other</option>
                                </select>
                                <!-- <label for="inquiryType">Inquiry Type *</label> -->
                                <div class="invalid-feedback">Please select an inquiry type.</div>

                                <!-- <div class="select-arrow">
                                            <i class="fas fa-chevron-down"></i>
                                        </div> -->
                            </div>
                        </div>
                        <!-- </div> -->

                        <div class="mb-3">
                            <textarea class="form-control" name="message" rows="4" placeholder="Your Message *"
                                autocomplete="off" required></textarea>
                            <!-- <label for="message">Message *</label> -->
                            <div class="invalid-feedback">Please provide a message.</div>
                        </div>

                        <button type="submit" class="btn-send">
                            <span class="btn-content">
                                <i class="fas fa-paper-plane"></i>
                                <span>Send Message</span>
                            </span>
                            <span class="btn-loader">
                                <i class="fas fa-circle-notch fa-spin"></i>
                            </span>
                        </button>

                        <!-- Success Toast Notification -->
                        <div class="toast-notification success-toast">
                            <div class="toast-content">
                                <div class="toast-icon">
                                    <svg viewBox="0 0 24 24">
                                        <path fill="currentColor"
                                            d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z" />
                                    </svg>
                                </div>
                                <div class="toast-message">
                                    <h4>Message Sent!</h4>
                                    <p>Thank you for contacting me. I'll respond within 24 hours.</p>
                                </div>
                                <button class="toast-close">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="toast-progress"></div>
                        </div>

                        <!-- Error Toast Notification -->
                        <div class="toast-notification error-toast">
                            <div class="toast-content">
                                <div class="toast-icon">
                                    <svg viewBox="0 0 24 24">
                                        <path fill="currentColor"
                                            d="M13 13H11V7H13M13 17H11V15H13M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2Z" />
                                    </svg>
                                </div>
                                <div class="toast-message">
                                    <h4>Oops! Error Sending</h4>
                                    <p>Please try again or email me directly at hello@example.com</p>
                                </div>
                                <button class="toast-close">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="toast-progress"></div>
                        </div>
                        <!-- </div> -->

                        <!-- <div class="success-message" id="successMessage">
                                <i class="fas fa-check-circle me-2"></i>
                                Thank you! Your message has been sent successfully.
                            </div>

                            <div class="error-message" id="errorMessage">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                Something went wrong. Please try again.
                            </div> -->
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>


<script>

    // Intersection Observer for scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function (entries) {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('active');
                }, index * 200);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.reveal').forEach(el => {
        observer.observe(el);
    });

    // Form elements
    const contactForm = document.getElementById('contactForm');
    const submitBtn = document.querySelector('.btn-send');
    const successToast = document.querySelector('.success-toast');
    const errorToast = document.querySelector('.error-toast');
    const inputs = contactForm.querySelectorAll('input[type="text"], input[type="email"], textarea, select');

    // Prevent default browser validation
    contactForm.setAttribute('novalidate', true);

    // Initialize field validation
    inputs.forEach(input => {
        input.addEventListener('blur', function () {
            // Trim whitespace
            const originalValue = this.value;
            const trimmedValue = originalValue.trim();

            if (originalValue !== trimmedValue) {
                this.value = trimmedValue;
                this.dispatchEvent(new Event('input'));
            }

            validateField(this);
        });

        input.addEventListener('input', clearValidation);
    });

    // Special handling for name fields
    document.querySelectorAll('#firstName, #lastName').forEach(field => {
        field.addEventListener('input', function () {
            this.value = this.value.replace(/[^A-Za-z\s]/g, '');
            validateField(this);
        });
    });

    // Form submission handler
    contactForm.addEventListener('submit', async function (e) {
        e.preventDefault();

        // Validate all fields
        let isValid = true;
        inputs.forEach(input => {
            if (!validateField(input)) {
                isValid = false;
            }
        });

        if (!isValid) {
            const firstError = document.querySelector('.is-invalid');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                firstError.focus();
            }
            return;
        }

        // Show loading state
        submitBtn.classList.add('loading');

        try {
            // Simulate API call (replace with actual fetch)
            await new Promise(resolve => setTimeout(resolve, 1500));

            // Show success toast
            showToast(successToast);

            // Reset form
            contactForm.reset();
            inputs.forEach(input => {
                input.classList.remove('is-valid', 'is-invalid');
            });

        } catch (error) {
            // Show error toast
            showToast(errorToast);
        } finally {
            // Reset button
            submitBtn.classList.remove('loading');
        }
    });

    // Validation functions
    function validateField(field) {
        const value = field.value.trim();
        const feedback = field.nextElementSibling;

        field.classList.remove('is-valid', 'is-invalid');
        if (feedback && feedback.classList.contains('invalid-feedback')) {
            feedback.style.display = 'none';
        }

        if (field.hasAttribute('required') && !value) {
            showError(field, feedback, 'This field is required');
            return false;
        }

        // Name fields validation
        if ((field.id === 'firstName' || field.id === 'lastName') && value) {
            if (!/^[A-Za-z\s]+$/.test(value)) {
                showError(field, feedback, 'Only letters and spaces allowed');
                return false;
            }
            if (value.length < 2) {
                showError(field, feedback, 'Must be at least 2 characters');
                return false;
            }
        }

        // Email validation
        if (field.type === 'email' && value) {
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                showError(field, feedback, 'Invalid email format');
                return false;
            }

            const localPart = value.split('@')[0];
            if (/^\d+$/.test(localPart)) {
                showError(field, feedback, 'Email cannot start with only numbers');
                return false;
            }

            if (isTempEmail(value)) {
                showError(field, feedback, 'Temporary/disposable emails not allowed');
                return false;
            }

            if (isInvalidEmailPattern(value)) {
                showError(field, feedback, 'Please use a professional email address');
                return false;
            }
        }

        field.classList.add('is-valid');
        return true;
    }

    function isTempEmail(email) {
        const tempDomains = [
            'tempmail', 'mailinator', 'guerrillamail', '10minutemail',
            'throwawaymail', 'fakeinbox', 'yopmail', 'trashmail',
            'dispostable', 'maildrop', 'getnada', 'temp-mail',
            'example\\.com', 'xyz\\.com', 'test\\.com'
        ];
        const domain = email.split('@')[1];
        return tempDomains.some(temp => new RegExp(temp, 'i').test(domain));
    }

    function isInvalidEmailPattern(email) {
        const invalidPatterns = [
            /^\d+@/i,                           // 123@gmail.com
            /^[^a-z0-9]/i,                      // Starts with non-alphanumeric
            /[^a-z0-9]$/i,                      // Ends with non-alphanumeric
            /^\d+@\d+\./i,                      // 1@2.com
            /@(example|test|email|sample)\.com$/i, // Combined fake domains
            /@[a-z]{1,3}\.[a-z]{1,3}$/i        // Blocks x@y.z (too short domains)
        ];

        // Additional check for consecutive special chars
        if (/[._-]{2,}/.test(email.split('@')[0])) {
            return true;
        }

        return invalidPatterns.some(pattern => pattern.test(email));
    }
    function showError(field, feedback, message) {
        field.classList.add('is-invalid');
        if (feedback && feedback.classList.contains('invalid-feedback')) {
            feedback.textContent = message;
            feedback.style.display = 'block';
        }
    }

    function clearValidation(e) {
        const field = e.target;
        field.classList.remove('is-valid', 'is-invalid');
        const feedback = field.nextElementSibling;
        if (feedback && feedback.classList.contains('invalid-feedback')) {
            feedback.style.display = 'none';
        }
    }

    // Toast notification functions
    function showToast(toastElement) {
        toastElement.classList.add('active');

        // Reset progress animation
        const progress = toastElement.querySelector('.toast-progress');
        progress.style.animation = 'none';
        void progress.offsetWidth; // Trigger reflow
        progress.style.animation = 'progress 5s linear forwards';

        // Auto-hide after 5 seconds
        setTimeout(() => {
            toastElement.classList.remove('active');
        }, 5000);
    }

    // Close buttons
    // Close buttons
    document.querySelectorAll('.toast-close').forEach(btn => {
        btn.addEventListener('click', function (e) {
            e.preventDefault(); // Prevent form submission (if button is inside a form)
            e.stopPropagation(); // Stop event bubbling

            const toast = this.closest('.toast-notification');

            // Clear any auto-hide timeout
            if (toast._timeoutId) {
                clearTimeout(toast._timeoutId);
                toast._timeoutId = null;
            }

            // Hide the toast smoothly
            toast.classList.remove('active');

            // Optional: Reset form validation errors (if needed)
            const form = toast.closest('form');
            if (form) {
                form.querySelectorAll('.error-message').forEach(error => {
                    error.textContent = ''; // Clear error messages
                });
            }
        });
    });

    // Animate floating elements
    function animateFloatingElements() {
        const elements = document.querySelectorAll('.floating-element');
        elements.forEach((el, index) => {
            el.style.animationDelay = `${index * 1.5}s`;
        });
    }

    animateFloatingElements();
</script>
</body>

</html>